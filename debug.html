<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug BD-INARQ</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .error { color: red; }
        .success { color: green; }
        .info { color: blue; }
    </style>
</head>
<body>
    <h1>Debug BD-INARQ</h1>
    <div id="status">Cargando...</div>
    <div id="details"></div>
    
    <script type="module">
        const statusDiv = document.getElementById('status');
        const detailsDiv = document.getElementById('details');
        
        function log(message, type = 'info') {
            console.log(message);
            const p = document.createElement('p');
            p.className = type;
            p.textContent = message;
            detailsDiv.appendChild(p);
        }
        
        try {
            log('üöÄ Iniciando debug...');
            
            // Test 1: Importar configuraci√≥n
            log('üìã Importando configuraci√≥n Firebase...');
            const { firebaseConfig } = await import('./js/firebase-config.js');
            log('‚úÖ Configuraci√≥n importada correctamente', 'success');
            log(`Proyecto: ${firebaseConfig.projectId}`, 'info');
            
            // Test 2: Importar Firebase SDK
            log('üì¶ Importando Firebase SDK...');
            const { initializeApp } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js');
            const { getAuth } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js');
            const { getFirestore } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js');
            log('‚úÖ Firebase SDK importado correctamente', 'success');
            
            // Test 3: Inicializar Firebase
            log('üî• Inicializando Firebase...');
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            const db = getFirestore(app);
            log('‚úÖ Firebase inicializado correctamente', 'success');
            
            // Test 4: Importar m√≥dulos de la app
            log('üìÅ Importando m√≥dulos de la aplicaci√≥n...');
            const { initAuth } = await import('./js/auth.js');
            const { showScreen } = await import('./js/ui.js');
            log('‚úÖ M√≥dulos importados correctamente', 'success');
            
            // Test 5: Inicializar autenticaci√≥n
            log('üîê Inicializando autenticaci√≥n...');
            initAuth();
            log('‚úÖ Autenticaci√≥n inicializada', 'success');
            
            statusDiv.innerHTML = '<span class="success">‚úÖ Todos los tests pasaron correctamente!</span>';
            
        } catch (error) {
            log(`‚ùå Error: ${error.message}`, 'error');
            log(`Stack: ${error.stack}`, 'error');
            statusDiv.innerHTML = '<span class="error">‚ùå Error en la aplicaci√≥n</span>';
        }
    </script>
</body>
</html>
